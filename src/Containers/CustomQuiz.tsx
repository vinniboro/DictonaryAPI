import React, { useState } from 'react';
import { Form, Navigate, redirect } from 'react-router-dom';
import { useNavigate } from 'react-router-dom';


interface UserFormData {
  questions: string[];
}

const CustomQuiz: React.FC = () => {
    const navigate = useNavigate();
    const [showModal, setShowModal] = useState<boolean>(false);

  const [userFormData, setUserFormData] = useState<UserFormData>({
    questions: ['']
  });

  const handleQuestionChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const index = parseInt(e.target.name.slice(-1)) as number;
    const questionList = userFormData.questions;
    const newQuestionList = [...questionList];
    newQuestionList[index] = e.target.value;
    setUserFormData({ questions: newQuestionList });
  };

  const handleAddQuestionButton = () => {
    const newQuestionList = userFormData.questions;
    newQuestionList.push('');
    setUserFormData({ questions: newQuestionList });
  };

  const handleRemoveQuestionButton = () => {
    const newQuestionList = userFormData.questions;
    if (newQuestionList.length > 1) {
      newQuestionList.pop();
      setUserFormData({ questions: newQuestionList });
    }
  };
  

  const handleFormSubmit = (e: any) => {
    e.preventDefault();

    // Check if the user has entered 10 questions
    if (userFormData.questions.length >= 1 && userFormData.questions.every(question => question.length > 0)) {

        setShowModal(true);
      setUserFormData({ questions: [''] });

      navigate('/')
    } else {
      // Prompt the user to enter 10 questions or provide answers for all questions
      alert(`Please enter a questions and provide answers for all questions to submit the quiz.`);
    }
  };

  const handleContinue = () => {
    setShowModal(true);
  }

  return (
    <div className='contain-page'>
      <div style={{alignItems:'center', textAlign:'center'}} className='contain-components'>
        <h2>Creat my dictonary Quiz</h2>
        {showModal ? (
<>
<input placeholder='Quiz Title' style={{width:'300px', backgroundColor:'#333', border:'none'}} type='text'></input>

<div className='row-contain'>

        <div style={{alignItems: 'center', justifyContent:'center', border:'none', }} className='category'>

                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 28 28" fill="none">
                <path d="M5.24609 19.6309H22.7451C24.3447 19.6309 25.1797 18.8223 25.1797 17.1963V7.05371C25.1797 5.42773 24.3447 4.61914 22.7451 4.61914H5.24609C3.64648 4.61914 2.81152 5.42773 2.81152 7.05371V17.1963C2.81152 18.8223 3.64648 19.6309 5.24609 19.6309ZM4.5166 7.15918C4.5166 6.56152 4.78027 6.32422 5.36035 6.32422H22.6309C23.2109 6.32422 23.4746 6.56152 23.4746 7.15918V16.3174L18.7373 11.8789C18.3506 11.5186 17.8936 11.3428 17.4189 11.3428C16.9443 11.3428 16.5049 11.5098 16.1006 11.8701L11.7676 15.7461L9.77246 13.9531C9.41211 13.6191 9.00781 13.4521 8.58594 13.4521C8.18164 13.4521 7.8125 13.6191 7.46094 13.9355L4.5166 16.5723V7.15918ZM10.3438 12.0898C11.4863 12.0898 12.4355 11.1406 12.4355 9.97168C12.4355 8.82031 11.4863 7.8623 10.3438 7.8623C9.1748 7.8623 8.2168 8.82031 8.2168 9.97168C8.2168 11.1406 9.1748 12.0898 10.3438 12.0898Z" fill="#EEEEEE"/>
                </svg>
                <h3>Drop a photo</h3>
                </div>
                </div>

        <div className='contain-cards'>  

                <form onSubmit={handleFormSubmit}>
                {userFormData.questions.map((question, index) => (

                    <div className='card' key={index}>
                    <h2>Question {index + 1}</h2>
                    <input type="text" name={`question${index}`} value={question} onChange={(e) => handleQuestionChange(e)} />
                    <button style={{border:'none', width:'33px', height:'33px',}} type="button" onClick={() => handleRemoveQuestionButton()}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none">
                        <path d="M9.84277 22.4785H18.166C19.3701 22.4785 20.0732 21.8369 20.126 20.6416L20.6797 7.94141H21.8926C22.3408 7.94141 22.6836 7.58984 22.6836 7.15039C22.6836 6.71094 22.332 6.37695 21.8926 6.37695H18.0781V5.05859C18.0781 3.65234 17.1729 2.81738 15.6611 2.81738H12.3213C10.8096 2.81738 9.9043 3.65234 9.9043 5.05859V6.37695H6.10742C5.66797 6.37695 5.31641 6.71973 5.31641 7.15039C5.31641 7.59863 5.66797 7.94141 6.10742 7.94141H7.3291L7.8916 20.6416C7.93555 21.8369 8.63867 22.4785 9.84277 22.4785ZM11.7324 5.1377C11.7324 4.74219 12.0049 4.4873 12.4443 4.4873H15.5469C15.9863 4.4873 16.2588 4.74219 16.2588 5.1377V6.37695H11.7324V5.1377ZM11.1787 19.7803C10.8271 19.7803 10.5811 19.5518 10.5723 19.2002L10.3086 9.86621C10.2998 9.51465 10.5459 9.27734 10.915 9.27734C11.2666 9.27734 11.5127 9.50586 11.5215 9.85742L11.7852 19.1914C11.8027 19.543 11.5566 19.7803 11.1787 19.7803ZM14 19.7803C13.6309 19.7803 13.3848 19.5518 13.3848 19.2002V9.85742C13.3848 9.51465 13.6309 9.27734 14 9.27734C14.3691 9.27734 14.624 9.51465 14.624 9.85742V19.2002C14.624 19.5518 14.3691 19.7803 14 19.7803ZM16.8213 19.7891C16.4434 19.7891 16.1973 19.543 16.2148 19.2002L16.4785 9.85742C16.4873 9.50586 16.7334 9.27734 17.085 9.27734C17.4541 9.27734 17.7002 9.51465 17.6914 9.86621L17.4277 19.2002C17.4189 19.5518 17.1729 19.7891 16.8213 19.7891Z" fill="#EEE"/>
                        </svg>
                    </button>
                    </div>
                    

                ))}
                <div style={{alignItems:'center', justifyContent:'center'}} className='card' onClick={handleAddQuestionButton}>
                    <svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 33 34" fill="none">
                            <path d="M14.8702 31.5265C14.8702 32.4055 15.6341 33.2113 16.5654 33.2008C17.4863 33.2008 18.2606 32.4056 18.2606 31.5265L18.2502 18.7077L31.0795 18.7077C31.9794 18.7077 32.7538 17.9333 32.7538 17.0125C32.7329 16.0916 31.9794 15.3172 31.069 15.3277L18.2502 15.3172L18.2502 2.50883C18.2606 1.59843 17.4863 0.824063 16.5654 0.824062C15.6445 0.844991 14.8702 1.59843 14.8702 2.49836L14.8702 15.3277L2.0513 15.3172C1.1723 15.3172 0.356074 16.0916 0.377003 17.0125C0.377003 17.9333 1.1723 18.7077 2.0513 18.7077L14.8702 18.6972L14.8702 31.5265Z" fill="orange"/>
                      </svg>
                  </div>
                <button type="submit">Submit Quiz</button>
                </form>
                </div>
</>
        ): 
        <>
        <div className='row-contain'>
          {/*
        <div className='icon-contain'>
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 28 28" fill="none">
                <path d="M9.28906 23.1816H20.7236C21.1895 23.1816 21.5498 22.8213 21.5498 22.3555C21.5498 21.96 21.2773 21.6699 20.9434 21.5117C19.8623 21.0283 19.6514 19.5342 20.75 18.4883C21.1982 18.0928 21.541 17.6533 21.541 16.7656V7.03613C21.541 5.1377 20.5654 4.14453 18.6758 4.14453H9.30664C7.42578 4.14453 6.44141 5.12891 6.44141 7.03613V20.3164C6.44141 22.1973 7.42578 23.1816 9.28906 23.1816ZM9.1748 17.3896C8.88477 17.3896 8.63867 17.1523 8.63867 16.8535V6.15723C8.63867 5.8584 8.88477 5.62109 9.1748 5.62109C9.46484 5.62109 9.71094 5.8584 9.71094 6.15723V16.8535C9.71094 17.1523 9.46484 17.3896 9.1748 17.3896ZM12.7168 14.9111C12.2773 14.9111 12.0137 14.6562 12.0137 14.252C12.0137 14.1201 12.04 13.9795 12.1104 13.7686L14.0967 8.33691C14.29 7.7832 14.6504 7.51074 15.1865 7.51074C15.7402 7.51074 16.1094 7.7832 16.3027 8.33691L18.2891 13.7686C18.3594 13.9795 18.3857 14.1201 18.3857 14.252C18.3857 14.6475 18.1133 14.9111 17.6826 14.9111C17.3223 14.9111 17.085 14.7354 16.9531 14.2871L16.4873 12.8984H13.9121L13.4375 14.2871C13.3145 14.7354 13.0684 14.9111 12.7168 14.9111ZM14.2285 11.8086H16.1709L15.2393 8.97852H15.1602L14.2285 11.8086ZM9.52637 21.5293C8.58594 21.5293 8.09375 20.9932 8.09375 20.167C8.09375 19.3672 8.65625 18.8135 9.58789 18.8135H18.3594C18.4561 18.8135 18.5527 18.8047 18.6406 18.7871C18.2012 19.7188 18.2539 20.7295 18.7285 21.5293H9.52637Z" fill="orange"/>
                </svg>
                <h4>Quiz creator</h4>
            </div>
            <div className='icon-contain'>
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 28 28" fill="none">
<path d="M8.14648 17.9258H9.35059C9.72852 17.9258 10.001 17.6973 10.0889 17.3369L10.4404 15.9131C10.6689 15.8252 10.8975 15.7373 11.0996 15.6318L12.3477 16.4053C12.6641 16.5986 13.0332 16.5635 13.2969 16.2998L14.1406 15.4561C14.3955 15.1836 14.4395 14.8057 14.2373 14.4893L13.4727 13.25C13.5781 13.0391 13.6748 12.8281 13.7363 12.6172L15.1689 12.2656C15.5381 12.1777 15.7666 11.9053 15.7666 11.5186V10.3408C15.7666 9.96289 15.5381 9.69043 15.1689 9.59375L13.7539 9.25098C13.6748 9.00488 13.5781 8.78516 13.4902 8.60059L14.2373 7.33496C14.4395 7.00098 14.4307 6.6582 14.1582 6.38574L13.2969 5.55078C13.0332 5.2959 12.6729 5.23438 12.3652 5.42773L11.0996 6.21875C10.9062 6.11328 10.6777 6.0166 10.4404 5.94629L10.0889 4.49609C10.001 4.12695 9.72852 3.89844 9.35059 3.89844H8.14648C7.75977 3.89844 7.49609 4.12695 7.39941 4.49609L7.05664 5.92871C6.81934 6.00781 6.59082 6.0957 6.38867 6.20117L5.12305 5.42773C4.81543 5.23438 4.46387 5.2959 4.2002 5.55078L3.33887 6.38574C3.06641 6.6582 3.05762 7.00098 3.25098 7.33496L3.99805 8.60059C3.91895 8.78516 3.82227 9.00488 3.73438 9.25098L2.31934 9.59375C1.9502 9.69043 1.73047 9.96289 1.73047 10.3408V11.5186C1.73047 11.9053 1.9502 12.1777 2.31934 12.2656L3.76074 12.6172C3.82227 12.8281 3.91895 13.0391 4.02441 13.25L3.25098 14.4893C3.05762 14.8057 3.09277 15.1836 3.35645 15.4561L4.2002 16.2998C4.46387 16.5635 4.83301 16.5986 5.14941 16.4053L6.39746 15.6318C6.59961 15.7373 6.81934 15.8252 7.05664 15.9131L7.39941 17.3369C7.49609 17.6973 7.75977 17.9258 8.14648 17.9258ZM8.74414 13.0479C7.5752 13.0479 6.6084 12.0811 6.6084 10.9033C6.6084 9.74316 7.5752 8.77637 8.74414 8.77637C9.91309 8.77637 10.8799 9.74316 10.8799 10.9033C10.8799 12.0811 9.91309 13.0479 8.74414 13.0479ZM19.7305 23.4189H20.7324C21.084 23.4189 21.3301 23.2168 21.4004 22.9004L21.6904 21.6699C21.8926 21.5908 22.0771 21.5293 22.2617 21.4238L23.334 22.1006C23.6064 22.2676 23.9229 22.2412 24.1602 22.0127L24.8633 21.292C25.1006 21.0547 25.1357 20.7295 24.96 20.457L24.3008 19.3848C24.3887 19.209 24.4678 19.0244 24.5205 18.8398L25.7686 18.5498C26.085 18.4707 26.2695 18.2334 26.2695 17.8906V16.8975C26.2695 16.5547 26.085 16.3086 25.7686 16.2383L24.5293 15.9395C24.4678 15.7285 24.3975 15.5439 24.3096 15.3857L24.96 14.2959C25.1445 14.0059 25.127 13.707 24.8809 13.4697L24.1602 12.7666C23.9229 12.5469 23.6152 12.4854 23.3428 12.6611L22.2617 13.3379C22.0859 13.25 21.8926 13.1621 21.6904 13.1006L21.4004 11.8438C21.3301 11.5361 21.084 11.3252 20.7324 11.3252H19.7305C19.3877 11.3252 19.1504 11.5361 19.0713 11.8438L18.7725 13.083C18.5791 13.1621 18.377 13.2324 18.2012 13.3291L17.1201 12.6523C16.8564 12.4941 16.54 12.5293 16.3027 12.7666L15.5908 13.4697C15.3447 13.707 15.3359 14.0059 15.5117 14.2959L16.1533 15.3857C16.083 15.5439 16.0039 15.7285 15.9336 15.9395L14.7119 16.2383C14.3867 16.3086 14.1934 16.5547 14.1934 16.8975V17.8906C14.1934 18.2246 14.3867 18.4707 14.7119 18.5498L15.9512 18.8398C16.0127 19.0244 16.083 19.209 16.1709 19.3848L15.5117 20.457C15.3271 20.7207 15.3711 21.0547 15.5996 21.292L16.3027 22.0127C16.54 22.2412 16.8652 22.2676 17.1377 22.1006L18.21 21.4238C18.3857 21.5293 18.5791 21.5908 18.7725 21.6699L19.0713 22.9004C19.1504 23.2168 19.3877 23.4189 19.7305 23.4189ZM20.2402 19.0684C19.2998 19.0684 18.5439 18.3037 18.5439 17.3633C18.5439 16.4404 19.3086 15.6758 20.2402 15.6758C21.1719 15.6758 21.9277 16.4404 21.9277 17.3633C21.9277 18.3037 21.1719 19.0684 20.2402 19.0684Z" fill="orange"/>
                </svg>
        <h4>Dictonary API </h4>
        </div>
*/}
    </div>
        <button className='btn-Tertiary' onClick={handleContinue}>Continue</button>
        </>}

        </div>
    </div>

  );
}
export default CustomQuiz;
